var Single_Theme=function(config){var that=this;var body=document.body;var content=document.getElementsByClassName("post-content")[0]||document.getElementsByClassName("page-content")[0];this.header=function(){var toggle=document.getElementsByClassName("toggle-btn")[0];var menu=document.getElementsByClassName("head-menu")[0];toggle.addEventListener("click",function(){menu.classList.toggle("active")});var search=document.getElementsByClassName("search-btn")[0];var bar=document.getElementsByClassName("head-search")[0];search.addEventListener("click",function(){bar.classList.toggle("active")})};this.night=function(){var light=document.getElementsByClassName("light-btn")[0];light.onclick=function(){if(body.classList.contains("neon")){that.night_remove()}else{that.night_add()}}};this.night_add=function(){body.classList.add("neon");document.cookie="night=true;"+"path=/"};this.night_remove=function(){body.classList.remove("neon");document.cookie="night=false;"+"path=/"};this.tree=function(){var wrap=document.getElementsByClassName("wrap")[0];var headings=content.querySelectorAll("h1, h2, h3, h4, h5, h6");if(headings.length>0){body.classList.add("has-trees");var trees=document.createElement("aside");trees.className="article-list";trees.innerHTML+="<h3>文章目录：</h3>";for(var i=0;i<headings.length;i++){headings[i].id=headings[i].innerText;var item=document.createElement("a");item.innerText=headings[i].innerText;item.href="#"+headings[i].innerText;switch(headings[i].tagName){case"H2":item.className="item-2";break;case"H3":item.className="item-3";break;case"H4":item.className="item-4";break;case"H5":item.className="item-5";break;case"H6":item.className="item-6";break}trees.appendChild(item)}wrap.appendChild(trees);function toggle_tree(){var buttons=document.getElementsByTagName("footer")[0].getElementsByClassName("buttons")[0];var btn=document.createElement("a");btn.className="toggle-list";buttons.appendChild(btn);btn.addEventListener("click",function(){trees.classList.toggle("active")})}toggle_tree()}};this.links=function(){var comment=document.getElementsByClassName("comment-list")[0];function add(selector){if(selector){var links=selector.getElementsByTagName("a");for(var i=0;i<links.length;i++){links[i].target="_blank"}}}add(content);add(comment)};this.to_top=function(){var btn=document.getElementsByClassName("to-top")[0];var scroll=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;scroll>=window.innerHeight/2?btn.classList.add("active"):btn.classList.remove("active")};this.night();this.header();if(content){this.tree();this.links()}window.addEventListener("scroll",this.to_top);if(config.toggleNight){var time=new Date();var hour=time.getHours();if(document.cookie.search(/night/)==-1&&(hour<=5||hour>=22)){this.night_add()}}if(config.copyNotice){document.oncopy=function(){ks.notice("复制内容请注明来源并保留版权信息！",{color:"yellow",overlay:true})}}};ks.image(".post-content img, .page-content img");if(window.console&&window.console.log){console.log("%c Single %c https://paugram.com ","color: #fff; margin: 1em 0; padding: 5px 0; background: #ffa628;","margin: 1em 0; padding: 5px 0; background: #efefef;")}